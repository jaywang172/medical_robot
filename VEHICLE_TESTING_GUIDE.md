# ðŸš— æ©Ÿå™¨äººè»Šè¼›æ¸¬è©¦å®Œæ•´æŒ‡å—

> **å®‰å…¨ç¬¬ä¸€ï¼** è«‹å‹™å¿…æŒ‰ç…§æ­¥é©Ÿé€²è¡Œï¼Œç¢ºä¿æ¸¬è©¦éŽç¨‹å®‰å…¨å¯æŽ§

## ðŸ“‹ æ¸¬è©¦å‰æº–å‚™æª¢æŸ¥æ¸…å–®

### âš¡ é›»æºç³»çµ±æª¢æŸ¥
- [ ] æ¨¹èŽ“æ´¾é›»æºé€£æŽ¥æ­£å¸¸ (5V 3A)
- [ ] é›»æ©Ÿé›»æºé›»å£“æ­£ç¢º (12V Â±1V)
- [ ] æ‰€æœ‰é›»æºé€£æŽ¥ç‰¢å›º
- [ ] é›»æ± é›»é‡å……è¶³ (>50%)
- [ ] ä¿éšªçµ²å·²å®‰è£ä¸”å®Œå¥½

### ðŸ”Œ ç¡¬ä»¶é€£æŽ¥æª¢æŸ¥
- [ ] GPIO é‡è…³é€£æŽ¥æ­£ç¢º
- [ ] é›»æ©Ÿé©…å‹•æ¿ (L298N) æŒ‡ç¤ºç‡ˆæ­£å¸¸
- [ ] æ‰€æœ‰æŽ¥åœ°ç·š (GND) é€£æŽ¥æ­£ç¢º
- [ ] é›»æ©Ÿç·šæé€£æŽ¥ç‰¢å›º
- [ ] æ²’æœ‰çŸ­è·¯æˆ–è£¸éœ²ç·šæ

### ðŸ’» è»Ÿä»¶ç’°å¢ƒæª¢æŸ¥
- [ ] æ¨¹èŽ“æ´¾æ­£å¸¸é–‹æ©Ÿ
- [ ] SSH é€£æŽ¥æ­£å¸¸
- [ ] Python ç’°å¢ƒå¯ç”¨
- [ ] é …ç›®ä»£ç¢¼å·²éƒ¨ç½²
- [ ] æœå‹™å™¨å¯ä»¥å•Ÿå‹•

---

## ðŸ§ª ç¬¬ä¸€éšŽæ®µï¼šåŸºç¤Žè»Ÿä»¶æ¸¬è©¦

### 1. ç³»çµ±å¥åº·æª¢æŸ¥

```bash
# SSH é€£æŽ¥åˆ°æ¨¹èŽ“æ´¾
ssh pi@æ¨¹èŽ“æ´¾IP

# é€²å…¥é …ç›®ç›®éŒ„
cd /home/pi/robot_project

# åŸ·è¡Œç³»çµ±æª¢æŸ¥
python3 system_check.py
```

**é æœŸçµæžœï¼š**
```
ðŸ“ æ¨¹èŽ“æ´¾ç³»çµ±æª¢æŸ¥
========================================
ðŸŒ¡ï¸  CPUæº«åº¦: temp=45.2'C
ðŸ’¾ è¨˜æ†¶é«”ä½¿ç”¨: 35.2%
ðŸ’½ ç£ç¢Ÿä½¿ç”¨: /dev/root  15G  4.2G  9.8G  30% /
âœ… GPIO å¯ç”¨
âœ… ç¶²çµ¡é€£æŽ¥æ­£å¸¸
```

### 2. æ ¸å¿ƒæŽ§åˆ¶å™¨æ¸¬è©¦ (æ¨¡æ“¬æ¨¡å¼)

```bash
# é‹è¡Œæ¨¡æ“¬æ¸¬è©¦ - é€™æ˜¯å®‰å…¨çš„ï¼Œä¸æœƒæŽ§åˆ¶çœŸå¯¦é›»æ©Ÿ
python3 robot_core/state_machine/car_run_turn.py --sim
```

**æ¸¬è©¦æ­¥é©Ÿï¼š**
1. è¼¸å…¥ `f` (å‰é€²) - æª¢æŸ¥æ¨¡æ“¬è¼¸å‡º
2. è¼¸å…¥ `b` (å¾Œé€€) - æª¢æŸ¥æ¨¡æ“¬è¼¸å‡º  
3. è¼¸å…¥ `l` (å·¦è½‰) - æª¢æŸ¥æ¨¡æ“¬è¼¸å‡º
4. è¼¸å…¥ `r` (å³è½‰) - æª¢æŸ¥æ¨¡æ“¬è¼¸å‡º
5. è¼¸å…¥ `s` (åœæ­¢) - æª¢æŸ¥æ¨¡æ“¬è¼¸å‡º
6. è¼¸å…¥ `e` (ç·Šæ€¥åœæ­¢) - æª¢æŸ¥å®‰å…¨æ©Ÿåˆ¶
7. è¼¸å…¥ `x` (é‡ç½®) - æª¢æŸ¥é‡ç½®åŠŸèƒ½
8. è¼¸å…¥ `q` (é€€å‡º)

**é æœŸè¼¸å‡ºï¼š**
```
é‹è¡Œåœ¨æ¨¡æ“¬æ¨¡å¼ - æ¨¹èŽ“æ´¾GPIOä¸å¯ç”¨
CarRunTurnController åˆå§‹åŒ–å®Œæˆ - æ¨¡æ“¬æ¨¡å¼
è»Šè¼›æŽ§åˆ¶å™¨æ¸¬è©¦ç¨‹åº

è«‹è¼¸å…¥æŒ‡ä»¤: f
å‰é€² 0.5ç§’
æ¨¡æ“¬é›»æ©ŸæŽ§åˆ¶: R1=True, R2=False, L1=True, L2=False
æ¨¡æ“¬é›»æ©ŸæŽ§åˆ¶: R1=False, R2=False, L1=False, L2=False
é›»æ©Ÿå·²åœæ­¢
```

### 3. API æœå‹™å™¨æ¸¬è©¦

```bash
# å•Ÿå‹•æœå‹™å™¨
python3 start_pi_server.py
```

åœ¨å¦ä¸€å€‹çµ‚ç«¯æ¸¬è©¦ APIï¼š
```bash
# åŸºç¤Žé€£æŽ¥æ¸¬è©¦
curl http://localhost:8000/

# è»Šè¼›ç‹€æ…‹æ¸¬è©¦
curl http://localhost:8000/api/car/status

# å®‰å…¨æŽ§åˆ¶æ¸¬è©¦ (åœæ­¢å‘½ä»¤)
curl -X POST "http://localhost:8000/api/car/control?action=stop"
```

---

## âš™ï¸ ç¬¬äºŒéšŽæ®µï¼šç¡¬ä»¶é€£æŽ¥æ¸¬è©¦

### âš ï¸ å®‰å…¨è­¦å‘Š
> **åœ¨é€²è¡Œç¡¬ä»¶æ¸¬è©¦å‰ï¼Œè«‹ç¢ºä¿ï¼š**
> - é›»æ©Ÿå·²å¾žè¼ªå­ä¸Šæ‹†ä¸‹ï¼Œæˆ–è»Šè¼›å·²æž¶ç©º
> - å‘¨åœæ²’æœ‰éšœç¤™ç‰©
> - æœ‰ç·Šæ€¥æ–·é›»æ–¹å¼
> - æœ‰äººåœ¨ç¾å ´ç›£æŽ§

### 1. GPIO åŸºç¤Žæ¸¬è©¦

```bash
# å‰µå»º GPIO æ¸¬è©¦è…³æœ¬
cat > gpio_test.py << 'EOF'
#!/usr/bin/env python3
import RPi.GPIO as GPIO
import time

# è¨­ç½® GPIO æ¨¡å¼
GPIO.setmode(GPIO.BOARD)

# æ¸¬è©¦é‡è…³ (å°æ‡‰ car_run_turn.py çš„è¨­ç½®)
test_pins = [16, 18, 11, 13]  # Motor_R1, R2, L1, L2

try:
    # è¨­ç½®ç‚ºè¼¸å‡º
    for pin in test_pins:
        GPIO.setup(pin, GPIO.OUT, initial=GPIO.LOW)
        print(f"è¨­ç½®é‡è…³ {pin} ç‚ºè¼¸å‡º")
    
    # é€ä¸€æ¸¬è©¦æ¯å€‹é‡è…³
    for pin in test_pins:
        print(f"æ¸¬è©¦é‡è…³ {pin}...")
        GPIO.output(pin, GPIO.HIGH)
        time.sleep(0.5)
        GPIO.output(pin, GPIO.LOW)
        time.sleep(0.5)
        print(f"é‡è…³ {pin} æ¸¬è©¦å®Œæˆ")
    
    print("âœ… æ‰€æœ‰ GPIO é‡è…³æ¸¬è©¦å®Œæˆ")
    
except Exception as e:
    print(f"âŒ GPIO æ¸¬è©¦å¤±æ•—: {e}")
    
finally:
    GPIO.cleanup()
    print("GPIO æ¸…ç†å®Œæˆ")
EOF

# åŸ·è¡Œæ¸¬è©¦
python3 gpio_test.py
```

### 2. é›»æ©Ÿé©…å‹•æ¸¬è©¦ (ç„¡è² è¼‰)

**âš ï¸ ç¢ºä¿é›»æ©Ÿæ²’æœ‰é€£æŽ¥åˆ°è¼ªå­æˆ–è² è¼‰**

```bash
# é‹è¡ŒçœŸå¯¦ç¡¬ä»¶æ¸¬è©¦
python3 robot_core/state_machine/car_run_turn.py
```

**æ¸¬è©¦æ­¥é©Ÿï¼š**
1. è¼¸å…¥ `f` - **è§€å¯Ÿé›»æ©Ÿæ˜¯å¦æ­£è½‰**
2. ç«‹å³è¼¸å…¥ `s` - **ç¢ºä¿èƒ½åœæ­¢**
3. è¼¸å…¥ `b` - **è§€å¯Ÿé›»æ©Ÿæ˜¯å¦åè½‰**
4. ç«‹å³è¼¸å…¥ `s` - **ç¢ºä¿èƒ½åœæ­¢**
5. æ¸¬è©¦ `l`, `r` - **æª¢æŸ¥å·¦å³é›»æ©Ÿ**
6. æ¸¬è©¦ `e` - **é©—è­‰ç·Šæ€¥åœæ­¢**

**æª¢æŸ¥è¦é»žï¼š**
- [ ] é›»æ©Ÿè½‰å‹•æ–¹å‘æ­£ç¢º
- [ ] åœæ­¢å‘½ä»¤éŸ¿æ‡‰åŠæ™‚
- [ ] ç·Šæ€¥åœæ­¢åŠŸèƒ½æ­£å¸¸
- [ ] ç„¡ç•°å¸¸è²éŸ³æˆ–ç™¼ç†±
- [ ] L298N æŒ‡ç¤ºç‡ˆæ­£å¸¸

### 3. é›»æµå’Œé›»å£“æ¸¬è©¦

ä½¿ç”¨è¬ç”¨é›»è¡¨æª¢æŸ¥ï¼š
```
é›»æ± é›»å£“: 12V Â±1V
5V ä¾›é›»: 4.9-5.1V
3.3V ä¾›é›»: 3.2-3.4V
é›»æ©Ÿç„¡è² è¼‰é›»æµ: <500mA
```

---

## ðŸš— ç¬¬ä¸‰éšŽæ®µï¼šè»Šè¼›é‹å‹•æ¸¬è©¦

### âš ï¸ å®‰å…¨æº–å‚™
- åœ¨ç©ºæ› å¹³å¦çš„åœ°é¢é€²è¡Œ
- æº–å‚™ç·Šæ€¥æ–·é›»é–‹é—œ
- è¨­ç½®å®‰å…¨é‚Šç•Œ
- æœ‰äººåœ¨å ´ç›£æŽ§

### 1. éœæ…‹æ¸¬è©¦

å°‡è»Šè¼›æ”¾åœ¨åœ°é¢ï¼Œä½†ç”¨æ‰‹æ‰¶ä½ï¼š

```bash
# å•Ÿå‹• API æœå‹™å™¨
python3 start_pi_server.py &

# ä½¿ç”¨ curl é€²è¡Œç²¾ç¢ºæŽ§åˆ¶
curl -X POST "http://localhost:8000/api/car/control?action=forward&duration=0.1"
```

**æª¢æŸ¥é …ç›®ï¼š**
- [ ] å‰é€²æ–¹å‘æ­£ç¢º
- [ ] å·¦å³è½‰å‘æ­£ç¢º
- [ ] å¾Œé€€æ–¹å‘æ­£ç¢º
- [ ] å‹•åŠ›è¼¸å‡ºé©ä¸­

### 2. ä½Žé€Ÿå‹•æ…‹æ¸¬è©¦

```bash
# çŸ­æ™‚é–“ã€ä½ŽåŠŸçŽ‡æ¸¬è©¦
curl -X POST "http://localhost:8000/api/car/control?action=forward&duration=0.5"

# ç­‰å¾…åœæ­¢å¾Œå†é€²è¡Œä¸‹ä¸€å€‹æ¸¬è©¦
sleep 2

curl -X POST "http://localhost:8000/api/car/control?action=backward&duration=0.5"
```

### 3. è½‰å‘æ¸¬è©¦

```bash
# å·¦è½‰æ¸¬è©¦
curl -X POST "http://localhost:8000/api/car/control?action=turn_left&duration=0.3"

sleep 2

# å³è½‰æ¸¬è©¦  
curl -X POST "http://localhost:8000/api/car/control?action=turn_right&duration=0.3"
```

---

## ðŸŒ ç¬¬å››éšŽæ®µï¼šå‰ç«¯æŽ§åˆ¶æ¸¬è©¦

### 1. å‰ç«¯é…ç½®

```bash
# åœ¨æ‚¨çš„é›»è…¦ä¸Šé‹è¡Œ
python3 frontend_config_helper.py

# å•Ÿå‹•å‰ç«¯
cd web_demo
npm start
```

### 2. Web ç•Œé¢æ¸¬è©¦

1. **æ‰“é–‹ç€è¦½å™¨** â†’ `http://localhost:3000`
2. **é€²å…¥æ‰‹å‹•æŽ§åˆ¶é é¢**
3. **å•Ÿç”¨æ ¸å¿ƒè»Šè¼›æŽ§åˆ¶é–‹é—œ**
4. **æ¸¬è©¦æŽ§åˆ¶æŒ‰éˆ•ï¼š**
   - é»žæ“Šã€Œå‰é€²ã€æŒ‰éˆ•
   - é»žæ“Šã€Œåœæ­¢ã€æŒ‰éˆ•
   - æ¸¬è©¦å…¶ä»–æ–¹å‘
   - æ¸¬è©¦ç·Šæ€¥åœæ­¢

### 3. ç§»å‹•è¨­å‚™æ¸¬è©¦

1. **æ‰‹æ©Ÿé€£æŽ¥åŒä¸€WiFi**
2. **è¨ªå•** â†’ `http://æ¨¹èŽ“æ´¾IP:3000`
3. **æ¸¬è©¦è§¸æŽ§æ“ä½œ**
4. **æª¢æŸ¥éŸ¿æ‡‰å»¶é²**

---

## ðŸ§ª ç¬¬äº”éšŽæ®µï¼šé€²éšŽåŠŸèƒ½æ¸¬è©¦

### 1. é€£çºŒé‹å‹•æ¸¬è©¦

```python
# å‰µå»ºé€£çºŒé‹å‹•æ¸¬è©¦è…³æœ¬
cat > continuous_test.py << 'EOF'
#!/usr/bin/env python3
import requests
import time

API_BASE = "http://localhost:8000"

def test_sequence():
    print("ðŸš— é–‹å§‹é€£çºŒé‹å‹•æ¸¬è©¦...")
    
    # æ¸¬è©¦åºåˆ—
    actions = [
        ("forward", 1.0),
        ("turn_right", 0.5), 
        ("forward", 1.0),
        ("turn_right", 0.5),
        ("forward", 1.0),
        ("turn_right", 0.5),
        ("forward", 1.0),
        ("turn_right", 0.5),
        ("stop", 0)
    ]
    
    for action, duration in actions:
        print(f"åŸ·è¡Œ: {action} ({duration}s)")
        
        response = requests.post(
            f"{API_BASE}/api/car/control",
            params={"action": action, "duration": duration}
        )
        
        if response.status_code == 200:
            result = response.json()
            print(f"âœ… {result.get('message', 'æˆåŠŸ')}")
        else:
            print(f"âŒ å¤±æ•—: {response.status_code}")
            break
        
        time.sleep(duration + 0.5)  # ç­‰å¾…å®Œæˆ
    
    print("ðŸŽ‰ æ¸¬è©¦åºåˆ—å®Œæˆ")

if __name__ == "__main__":
    test_sequence()
EOF

python3 continuous_test.py
```

### 2. æ€§èƒ½æ¸¬è©¦

```bash
# å‰µå»ºæ€§èƒ½æ¸¬è©¦è…³æœ¬
cat > performance_test.py << 'EOF'
#!/usr/bin/env python3
import requests
import time

API_BASE = "http://localhost:8000"

def performance_test():
    print("âš¡ é–‹å§‹æ€§èƒ½æ¸¬è©¦...")
    
    # æ¸¬è©¦éŸ¿æ‡‰æ™‚é–“
    times = []
    for i in range(10):
        start = time.time()
        
        response = requests.post(
            f"{API_BASE}/api/car/control",
            params={"action": "stop"}
        )
        
        end = time.time()
        duration = (end - start) * 1000
        times.append(duration)
        
        print(f"è«‹æ±‚ {i+1}: {duration:.2f}ms")
        time.sleep(0.1)
    
    avg_time = sum(times) / len(times)
    print(f"å¹³å‡éŸ¿æ‡‰æ™‚é–“: {avg_time:.2f}ms")
    
    if avg_time < 100:
        print("âœ… æ€§èƒ½è‰¯å¥½")
    elif avg_time < 500:
        print("âš ï¸ æ€§èƒ½ä¸€èˆ¬")
    else:
        print("âŒ æ€§èƒ½è¼ƒå·®ï¼Œæª¢æŸ¥ç¶²çµ¡")

if __name__ == "__main__":
    performance_test()
EOF

python3 performance_test.py
```

---

## ðŸ” æ•…éšœæŽ’é™¤æŒ‡å—

### é›»æ©Ÿä¸è½‰å‹•
```bash
# æª¢æŸ¥æ­¥é©Ÿ
1. æª¢æŸ¥é›»æº: vcgencmd measure_temp
2. æª¢æŸ¥æŽ¥ç·š: python3 gpio_test.py  
3. æª¢æŸ¥é©…å‹•: è§€å¯Ÿ L298N LED
4. æª¢æŸ¥é›»æ©Ÿ: ç›´æŽ¥æŽ¥é›»æ± æ¸¬è©¦
```

### ç¶²çµ¡é€£æŽ¥å•é¡Œ
```bash
# æ¸¬è©¦é€£æŽ¥
python3 test_connection.py æ¨¹èŽ“æ´¾IP

# æª¢æŸ¥é˜²ç«ç‰†
sudo ufw status

# é‡å•Ÿæœå‹™
sudo systemctl restart robot-control
```

### æŽ§åˆ¶å»¶é²å•é¡Œ
```bash
# æª¢æŸ¥ç³»çµ±è² è¼‰
htop

# æª¢æŸ¥ç¶²çµ¡å»¶é²
ping æ¨¹èŽ“æ´¾IP

# æª¢æŸ¥æœå‹™å™¨æ—¥èªŒ
sudo journalctl -u robot-control -f
```

---

## ðŸŽ¯ æ¸¬è©¦å®Œæˆæª¢æŸ¥æ¸…å–®

### âœ… åŸºç¤ŽåŠŸèƒ½
- [ ] å››å€‹æ–¹å‘é‹å‹•æ­£å¸¸
- [ ] åœæ­¢åŠŸèƒ½éŸ¿æ‡‰åŠæ™‚
- [ ] ç·Šæ€¥åœæ­¢å¯é é‹ä½œ
- [ ] ç‹€æ…‹åé¥‹æº–ç¢º

### âœ… ç¶²çµ¡åŠŸèƒ½  
- [ ] API ç«¯é»žæ­£å¸¸éŸ¿æ‡‰
- [ ] Web ç•Œé¢æŽ§åˆ¶æ­£å¸¸
- [ ] ç§»å‹•è¨­å‚™å¯è¨ªå•
- [ ] å¯¦æ™‚ç‹€æ…‹æ›´æ–°

### âœ… å®‰å…¨åŠŸèƒ½
- [ ] ç·Šæ€¥åœæ­¢å¯é 
- [ ] éŽç†±ä¿è­·æ­£å¸¸
- [ ] é›»æºä¿è­·æœ‰æ•ˆ
- [ ] ç•°å¸¸æ¢å¾©æ­£å¸¸

### âœ… æ€§èƒ½æŒ‡æ¨™
- [ ] éŸ¿æ‡‰æ™‚é–“ < 100ms
- [ ] æŽ§åˆ¶ç²¾åº¦è‰¯å¥½
- [ ] é‹è¡Œç©©å®šç„¡å´©æ½°
- [ ] é›»æ± çºŒèˆªåˆç†

---

## ðŸŽ‰ æ­å–œæ¸¬è©¦å®Œæˆï¼

å¦‚æžœæ‰€æœ‰æ¸¬è©¦éƒ½é€šéŽï¼Œæ‚¨çš„æ©Ÿå™¨äººè»Šè¼›å·²ç¶“æº–å‚™å¥½äº†ï¼

### ðŸš€ æŽ¥ä¸‹ä¾†æ‚¨å¯ä»¥ï¼š
1. **é–‹ç™¼è‡ªå‹•åŠŸèƒ½** - æ·»åŠ æ„Ÿæ¸¬å™¨å’Œè‡ªå‹•é§•é§›
2. **æ“´å±•æŽ§åˆ¶é‚è¼¯** - å¯¦ç¾æ›´è¤‡é›œçš„é‹å‹•æ¨¡å¼
3. **æ•´åˆAIåŠŸèƒ½** - æ·»åŠ è¦–è¦ºè­˜åˆ¥å’Œè·¯å¾‘è¦åŠƒ
4. **åˆ†äº«æ‚¨çš„æˆæžœ** - å±•ç¤ºçµ¦æœ‹å‹æˆ–ç¤¾ç¾¤

**ç¥æ‚¨çš„æ©Ÿå™¨äººé …ç›®æˆåŠŸï¼** ðŸ¤–ðŸŽŠ
